## WYSIWYGエディタのテスト方針

- **vitestのbrowser modeを原則必ず使用すること**
 	- DOM上でのクリック、キー入力、選択、ホバー、ドラッグ＆ドロップ、コピー/カット/貼り付け等の操作は、必ず`vitest/browser`の`userEvent`経由で実行する。
- **現状の実装にとらわれず、WYSIWYGエディタとしての正しい動作を記述すること**
 	- 仕様や理想的なUXに基づき、現状のバグや制約に引きずられずにテストを書く。
- **ASTとDOMの整合性を重視すること**
 	- `parseHTML`/`parseDocFromDOM`のラウンドトリップでノードIDや構造が安定していることを検証する。
 	- 編集操作後のASTとDOMの内容が一致していることを確認する。
- **IMEや選択状態、compositionイベントも考慮すること**
 	- IME入力中の挙動や、選択範囲の保存・復元もテスト対象とする。
- **テストケースや具体的な操作例はeditor_operations.mdへ分離**
- **テストの実装例やvitestの扱いはvitest_browser_mode.mdへ分離**

---
（※このファイルにはテスト方針のみを記載し、個別の操作例やテスト実装例は他ファイルに分離すること）
